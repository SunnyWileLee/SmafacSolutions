@model  IEnumerable<CustomerPropertyModel>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var types = ViewData["types"] as IEnumerable<SelectListItem>;
}

<div class="row">
    <div class="col-lg-6">
        <table class="table table-striped table-condensed">
            <thead>
                <tr>
                    <th>属性</th>
                    <th>类型</th>
                    <th>是否显示在列表</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var property in Model)
                {
                    <tr>
                        <td>@property.Name</td>
                        <td>
                            @{
                                var propertyType = property.Type.GetHashCode().ToString();
                                var type = types.FirstOrDefault(s => s.Value.Equals(propertyType));
                                var typeString = type == null ? "未知类型" : type.Text;
                            }
                            @typeString
                        </td>
                        <td>
                            @{
                                var isTableColumn = property.IsTableColumn ? "是" : "否";
                            }
                            @isTableColumn
                        </td>
                        <td><input type="button" class="btn btn-postid btn-danger pull-right" data-url="/CustomerProperty/DeleteCustomerProperty" data-identity="@property.Id" href="" value="删除" /></td>
                    </tr>
                                }
            </tbody>
        </table>
    </div>
    <div class="col-lg-6">
        <form class="form-horizontal" id="form-submit">
            <div class="form-group">
                <label for="Name" class="col-lg-3 control-label">属性名称</label>
                <div class="col-lg-9">
                    <input type="text" class="form-control" name="Name">
                </div>
            </div>
            <div class="form-group">
                <label for="Type" class="col-lg-3 control-label">类型</label>
                <div class="col-lg-9">
                    @Html.DropDownList("Type", types, new { @class = "form-control" })
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-offset-3 col-lg-9">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" name="IsTableColumnOn">是否显示在列表
                        </label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-lg-offset-2 col-lg-10">
                    <div class="btn-group">
                        <input type="button" value="保存" class="btn btn-success btn-submit" data-url="AddCustomerProperty">
                        <a class="btn btn-default" href="/Customer/CustomerView" type="button">
                            <i class="m-icon-swapleft m-icon-white"></i>
                            返回列表
                        </a>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
